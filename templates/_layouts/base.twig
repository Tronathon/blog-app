{% set lang = craft.app.language|replace('_','-') %}
{% set metaTitle = entry.metaTitle is defined and entry.metaTitle ? entry.metaTitle : metaTitle ?? entry.title ?? siteName ?? null %}
{% set metaDescription = entry.metaDescription is defined and entry.metaDescription ? entry.metaDescription : metaDescription ?? null %}

{% set value = getCookie('cookie_consent') %}
{% set cookieConsent= not value is empty and value == 'true' ? true : false %}

<!doctype html>
<!--# if expr="$HTTP_COOKIE=/fonts\-loaded\=1/" -->
<html lang="{{ lang }}" class="no-js fonts-loaded">
<!--# else -->
<html lang="{{ lang }}" class="no-js">
<!--# endif -->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>{% if craft.app.config.general.devMode %}Dev - {% endif %}{{ metaTitle }}</title>

		{% if metaDescription %}
			<meta name="description" content="{{ metaDescription }}">
		{% endif %}

		<link rel="stylesheet" href="{{ rev('/assets/styles/main.css') }}">

		{# Replace no-js class with js #}
		<script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';</script>
	</head>

	<body>
		<a href="#content" class="c-skip-link">Skip to main content</a>

		{% block layout %}
			<p><code>{% verbatim %}{% block layout %}{% endblock %}{% endverbatim %}</code> not set.</p>
		{% endblock %}

		<script>
			{# loadjs - https://github.com/muicss/loadjs #}
			loadjs=function(){var n=function(){},e={},t={},r={};function c(n,e){if(n){var c=r[n];if(t[n]=e,c)for(;c.length;)c[0](n,e),c.splice(0,1)}}function i(e,t){e.call&&(e={success:e}),t.length?(e.error||n)(t):(e.success||n)(e)}function o(e,t,r,c){var i,s,u=document,f=r.async,a=(r.numRetries||0)+1,h=r.before||n;c=c||0,/(^css!|\.css$)/.test(e)?(i=!0,(s=u.createElement("link")).rel="stylesheet",s.href=e.replace(/^css!/,"")):((s=u.createElement("script")).src=e,s.async=void 0===f||f),s.onload=s.onerror=s.onbeforeload=function(n){var u=n.type[0];if(i&&"hideFocus"in s)try{s.sheet.cssText.length||(u="e")}catch(n){u="e"}if("e"==u&&(c+=1)<a)return o(e,t,r,c);t(e,u,n.defaultPrevented)},!1!==h(e,s)&&u.head.appendChild(s)}function s(n,t,r){var s,u;if(t&&t.trim&&(s=t),u=(s?r:t)||{},s){if(s in e)throw"LoadJS";e[s]=!0}!function(n,e,t){var r,c,i=(n=n.push?n:[n]).length,s=i,u=[];for(r=function(n,t,r){if("e"==t&&u.push(n),"b"==t){if(!r)return;u.push(n)}--i||e(u)},c=0;c<s;c++)o(n[c],r,t)}(n,function(n){i(u,n),c(s,n)},u)}return s.ready=function(n,e){return function(n,e){var c,i,o,s=[],u=(n=n.push?n:[n]).length,f=u;for(c=function(n,t){t.length&&s.push(n),--f||e(s)};u--;)i=n[u],(o=t[i])?c(i,o):(r[i]=r[i]||[]).push(c)}(n,function(n){i(e,n)}),s},s.done=function(n){c(n,[])},s.reset=function(){e={},t={},r={}},s.isDefined=function(n){return n in e},s}();

			var isModern = window.Promise && window.fetch && window.Symbol;

			isModern ? main() : loadjs('https://cdn.polyfill.io/v2/polyfill.min.js', main);

			function main() {
				loadjs(['{{ rev("/assets/scripts/vendor.js") }}', '{{ rev("/assets/scripts/main.js") }}']);
			}
 		</script>

		{% include "_layouts/includes/analytics" %}
	</body>
</html>
